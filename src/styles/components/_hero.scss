@use '../base/variables' as v;
@use '../base/mixins' as *;

.hero {
  // локальные шорткаты
  $padY: clamp(4rem, 10vw, 7rem);
  $gap:  clamp(2.5rem, 6vw, 5rem);
  $rad:  clamp(2rem, 5vw, 3.5rem);
  $tr:   v.$transition-base;

  position: relative;
  padding: $padY 0 clamp(3rem, 8vw, 6rem);
  isolation: isolate;

  // placeholders для повторяющихся паттернов
  %pill {
    display: inline-flex; align-items: center; gap: .55rem;
    padding: .55rem 1.1rem; border-radius: 999px;
    border: 1px solid v.$border-color;
    background: v.$zone-cta-bg; color: v.$title-color;
    font: 600 .78rem/1 var(--font, inherit);
    letter-spacing: .18em; text-transform: uppercase;
    backdrop-filter: blur(18px);
    transition: transform $tr;
  }

  %nav-btn {
    position: absolute; top: 50%; translate: 0 -50%;
    width: 48px; height: 48px; border-radius: 999px;
    display: inline-flex; align-items: center; justify-content: center;
    border: 1px solid v.$glass-border; background: v.$glass-bg; color: v.$title-color;
    backdrop-filter: blur(12px);
    transition: transform $tr, border-color $tr, box-shadow $tr;
    z-index: 6;

    &:hover { transform: translateY(-50%) scale(1.08); border-color: v.$accent-color; box-shadow: v.$shadow-glow-soft; }
  }

  %dot {
    width: 10px; height: 10px; border-radius: 50%;
    border: 0; cursor: pointer;
    background: rgba(0,0,0,.25);
    transition: transform $tr, background $tr;
    &:hover { transform: scale(1.1); }
  }

  &__backdrop {
    position: absolute; inset: 0; z-index: -1; opacity: .9; border-radius: $rad;
    box-shadow: inset 0 0 0 1px v.$glass-border;
    background:
      radial-gradient(80% 80% at 20% 10%, rgba(255,51,51,.4), transparent 65%),
      radial-gradient(70% 70% at 80% 20%, rgba(255,107,53,.24), transparent 70%),
      linear-gradient(160deg, rgba(20,10,10,.7) 0%, rgba(10,5,5,.3) 100%);
  }

  &__inner {
    display: grid; grid-template-columns: repeat(2, minmax(0,1fr));
    gap: $gap; align-items: center;
  }

  &__content { max-width: 520px; }

  &__badge { @extend %pill; margin-bottom: 1.5rem;
    &:hover { transform: translateY(-2px); }
    &-dot { width: 8px; height: 8px; border-radius: 50%; background: v.$accent-color; box-shadow: v.$shadow-symbol; }
  }

  &__title   { font-size: clamp(3rem, 5vw, 4.2rem); line-height: 1.05; }
  &__subtitle{
    font-size: clamp(2rem, 4vw, 2.8rem);
    background: linear-gradient(90deg, v.$accent-color 10%, v.$accent-secondary 90%);
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    margin-bottom: 1.5rem;
  }
  &__description { max-width: 420px; font-size: 1.05rem; }

  &__actions { display:flex; align-items:center; gap: clamp(.75rem,2vw,1.25rem); margin-top: clamp(1.8rem,4vw,2.5rem); }
  &__button  { @include button; }
  &__button--ghost{
    background: transparent; border: 1px solid v.$glass-border; color: v.$title-color; box-shadow:none;
    padding: v.$spacing-md * 1.1 v.$spacing-lg * 1.2;
    &:hover { border-color: v.$accent-color; color: v.$title-color; }
  }
  &__button--primary{ box-shadow: v.$shadow-glow; }

  &__showcase{
    position: relative; overflow:hidden;
    padding: clamp(2rem, 4vw, 3.5rem); border-radius: clamp(2rem, 5vw, 3rem);
    background: v.$glass-bg; border: 1px solid v.$glass-border;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.06), v.$zone-glow;
  }
  &__cards{ position:relative; height: clamp(300px, 36vw, 420px); }

  &__nav{ @extend %nav-btn; }
  &__nav--prev{ left: clamp(.8rem,2vw,1.4rem); }
  &__nav--next{ right: clamp(.8rem,2vw,1.4rem); }

  &__meta{
    margin-top: clamp(2.5rem, 4vw, 3rem);
    display:flex; align-items:center; justify-content:space-between; gap: 1.8rem;
  }

  &__avatars{ display:flex; align-items:center; }
  &__avatar{
    width:44px; height:44px; border-radius:50%;
    display:inline-flex; align-items:center; justify-content:center;
    margin-left:-14px; font-weight:600; color:v.$title-color;
    border:2px solid v.$border-color; box-shadow:v.$shadow-sm;

    &:first-child{ margin-left:0; }
  }

  &__stat{ display:flex; flex-direction:column; }
  &__stat-value{ font-size:1.4rem; font-weight:600; color:v.$title-color; }
  &__stat-label{ font-size:.85rem; color:v.$muted-color; letter-spacing:.06em; text-transform:uppercase; }

  &__dots{
    margin-top: clamp(1.8rem, 3vw, 2.4rem);
    display:flex; align-items:center; justify-content:center; gap:.75rem;
  }
  &__dot{ @extend %dot; }
  &__dot--active{
    background: linear-gradient(130deg, v.$accent-color, v.$accent-secondary);
    box-shadow: 0 0 16px rgba(168,85,247,.65); transform: scale(1.35);
  }

  // responsive (вложил, чтобы не повторять селекторы)
  @include tablet {
    &__inner{ grid-template-columns: 1fr; }
    &__content{ max-width:none; }
    &__showcase{ margin: 0 auto; width: min(540px, 100%); }
  }

  @include mobile {
    padding: clamp(3rem, 8vw, 5rem) 0;

    &__inner{ grid-template-columns: 1fr; }
    &__showcase{ padding: clamp(1.5rem, 5vw, 2.5rem); }
    &__cards{ height: auto; min-height: 250px; }
    &__meta{ flex-direction: column; align-items: flex-start; }
    &__actions{ flex-wrap: wrap; }
    &__button--ghost, &__button--primary{ width:100%; justify-content:center; }
  }
}
